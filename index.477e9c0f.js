function e(e=33){if(e<2)throw Error("Quantity cannot be lower than 2.");return t(e).map((e=>`rgb(${e}, ${e}, ${e})`))}function t(e){const t=[],r=255/(e-1);for(let n=0;n<e;n++){const e=Math.round(n*r);t.push(e)}return t}var r,n,o={};r=o,n=function(e){var t,r=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,o=1073741824,i=new WeakMap,a=function(e,t){return function(i){var a=t.get(i),s=void 0===a?i.size:a<o?a+1:0;if(!i.has(s))return e(i,s);if(i.size<n){for(;i.has(s);)s=Math.floor(Math.random()*o);return e(i,s)}if(i.size>r)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;i.has(s);)s=Math.floor(Math.random()*r);return e(i,s)}}((t=i,function(e,r){return t.set(e,r),r}),i),s=function(e){return function(t){var r=e(t);return t.add(r),r}}(a);e.addUniqueNumber=s,e.generateUniqueNumber=a,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof o?n(o):"function"==typeof define&&define.amd?define(["exports"],n):n((r="undefined"!=typeof globalThis?globalThis:r||self).fastUniqueNumbers={});let i=null;const a=(s=e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,i=new Worker(e);return i.addEventListener("message",(({data:e})=>{if(void 0!==(o=e).method&&"call"===o.method){const{params:{timerId:o,timerType:i}}=e;if("interval"===i){const e=t.get(o);if("number"==typeof e){const t=n.get(e);if(void 0===t||t.timerId!==o||t.timerType!==i)throw new Error("The timer is in an undefined state.")}else{if(void 0===e)throw new Error("The timer is in an undefined state.");e()}}else if("timeout"===i){const e=r.get(o);if("number"==typeof e){const t=n.get(e);if(void 0===t||t.timerId!==o||t.timerType!==i)throw new Error("The timer is in an undefined state.")}else{if(void 0===e)throw new Error("The timer is in an undefined state.");e(),r.delete(o)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(e)){const{error:{message:t}}=e;throw new Error(t)}{const{id:o}=e,i=n.get(o);if(void 0===i)throw new Error("The timer is in an undefined state.");const{timerId:a,timerType:s}=i;n.delete(o),"interval"===s?t.delete(a):r.delete(a)}}var o})),{clearInterval:e=>{const r=o.generateUniqueNumber(n);n.set(r,{timerId:e,timerType:"interval"}),t.set(e,r),i.postMessage({id:r,method:"clear",params:{timerId:e,timerType:"interval"}})},clearTimeout:e=>{const t=o.generateUniqueNumber(n);n.set(t,{timerId:e,timerType:"timeout"}),r.set(e,t),i.postMessage({id:t,method:"clear",params:{timerId:e,timerType:"timeout"}})},setInterval:(e,r)=>{const n=o.generateUniqueNumber(t);return t.set(n,(()=>{e(),"function"==typeof t.get(n)&&i.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:n,timerType:"interval"}})})),i.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:n,timerType:"interval"}}),n},setTimeout:(e,t)=>{const n=o.generateUniqueNumber(r);return r.set(n,e),i.postMessage({id:null,method:"set",params:{delay:t,now:performance.now(),timerId:n,timerType:"timeout"}}),n}}},u='(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(({data:i})=>{try{if("clear"===i.method){const{id:r,params:{timerId:o,timerType:s}}=i;if("interval"===s)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==s)throw new Error(\'The given type "\'.concat(s,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==i.method)throw new Error(\'The given method "\'.concat(i.method,\'" is not supported\'));{const{params:{delay:s,now:n,timerId:a,timerType:d}}=i;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(s,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(s,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:i.id,result:null})}}))})();',()=>{if(null!==i)return i;const e=new Blob([u],{type:"application/javascript; charset=utf-8"}),t=URL.createObjectURL(e);return i=s(t),i.setTimeout((()=>URL.revokeObjectURL(t)),0),i});var s,u;const d=(e,t)=>a().setTimeout(e,t);function c(e,t){var r,n,o,i;return n=(new Date).getTime()+t,o=null,i=function(){return o=d(i,(n+=t)-(new Date).getTime()),e()},r=function(){return e=o,a().clearTimeout(e);var e},o=d(i,n-(new Date).getTime()),{cancel:r}}const m=document.getElementById("background"),l=document.getElementById("status"),p=document.querySelector('[data-mode="patchesRemaining"]'),f={mode:"colour",interval:500,running:!1,preQueueIdx:0,queueIdx:0,preQueue:[],queue:[]};function h(){f.running=!1,f.preQueueIdx=0,f.queueIdx=0,m.style.backgroundColor="",p.textContent="Finished"}function g(e){!1===f.running&&(f.mode=e,document.querySelectorAll("button[data-mode]").forEach((e=>e.classList.remove("active"))),document.querySelector(`[data-mode="${e}"]`).classList.add("active"))}l.addEventListener("click",(t=>{const{mode:r}=t.target.dataset;switch(r){case"start":!function(){if(!0===f.running)return;const t=()=>new Promise(((e,t)=>{f.preQueue=function(e=3){const t=[];for(let r=0;r<e;r++)t.push("rgb(255, 255, 255)"),t.push("rgb(0, 0, 0)");return t.push("rgb(255, 255, 255)"),t}();const r=c((()=>{!1===f.running||f.preQueueIdx===f.preQueue.length?(r.cancel(),e()):(m.style.backgroundColor=f.preQueue[f.preQueueIdx],f.preQueueIdx++,p.textContent="Pre-Start")}),1e3)})),r=()=>new Promise(((t,r)=>{switch(f.mode){case"colour":f.queue=colorPatches();break;case"grayscale":f.queue=e(),f.queue.push(...e()),f.queue.push(...e())}const n=c((()=>{!1===f.running||f.queueIdx===f.queue.length?(n.cancel(),h(),t()):(m.style.backgroundColor=f.queue[f.queueIdx],f.queueIdx++,p.textContent=""+(f.queue.length-f.queueIdx))}),f.interval)}));f.running=!0,t().then((()=>r()))}();break;case"stop":h();break;case"colour":case"grayscale":g(r)}})),document.querySelectorAll("button[data-mode]").forEach((e=>e.classList.remove("active"))),document.querySelector(`[data-mode="${f.mode}"]`).classList.add("active");
//# sourceMappingURL=index.477e9c0f.js.map
